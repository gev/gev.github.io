<!DOCTYPE html >
<html>
<head>
    <style>

        * {
            overflow: hidden;
            padding: 0;
            margin: 0;
        }

        html, body {
            width: 100%;
            height: 100%;
        }

        .scroll {
            width: 100%;
            position: absolute;
        }

        object {
            height: 100%;
            pointer-events: none;
        }

        #de {
            top: 0;
            height: 32.2%;
        }

        #di {
            top: 27.2%;
            height: 72.4%;
        }

        .scroller {
            position: absolute;
            top: 50%;
            width: 100px;
            border: none;
            background: transparent;
            cursor: pointer;
            outline: 0;
            color: white;
            font-size: 75px;
            text-shadow: black 0 0 20px;
            opacity: 0.75;
        }

        .scroller:hover {
            opacity: 1;
            font-size: 80px;
        }

        #bl {
            left: 0;
        }

        #br {
            right: 0;
        }

    </style>
</head>

<body>
<div class='scroll' id='de'>
    <object id='oe' type='image/svg+xml' data='equipment.svg'>
        Your browser does not support SVG
    </object>
</div>
<div class='scroll' id='di'>
    <object id='oi' type='image/svg+xml' data='interior.svg'>
        Your browser does not support SVG
    </object>
</div>
<button id='bl' class='scroller'><</button>
<button id='br' class='scroller'>></button>

<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery-scrollTo/2.1.2/jquery.scrollTo.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js'></script>

<script>

    var de = $('#de');
    var di = $('#di');

    function sync(src, dst) {
        var k = (dst[0].scrollWidth - dst.width())
              / (src[0].scrollWidth - src.width());
        dst.scrollLeft(Math.round(src.scrollLeft() * k));
//        dst.scrollTo(Math.round(src.scrollLeft() * k), {axis : 'x'});
    }


    function scrollTo(src, dst) {
        return function (e) {
            if (e.deltaY * e.deltaY > e.deltaX*e.deltaX)
                return true;
            var dx = e.deltaX * e.deltaFactor;
            src.scrollTo(src.scrollLeft() + dx, {
                progress : function() {sync(src, dst)},
                axis : 'x'
            });
            return false;
        }
    }

    di.mousewheel(scrollTo(di, de));
    de.mousewheel(scrollTo(de, di));

    function dx() {
        return 3 * di.width() / 4
    }

    function scrollBy(dx) {
        var t0 = performance.now();
        var x0 = di.scrollLeft();
        var x1 = x0 + dx;
        var x = x0;
        function step(t1) {
            x += dx * (t1 - t0) / 1000;
            if ((x - x0) * (x - x0) >= dx * dx) {
                di.scrollLeft(x1);
                sync(di, de)
            } else {
                di.scrollLeft(x);
                sync(di, de);
                t0 = t1;
                requestAnimationFrame(step)
            }
        }
        requestAnimationFrame(step);
//        di.animate({scrollLeft: di.scrollLeft() + dx}, {
//            progress : function(){sync(di, de)},
//            easing :'easeInOutSine'
//        });
//        di.scrollTo(di.scrollLeft() + dx, 500, {
//            progress : function(){sync(di, de)},
//            easing :'easeInOutSine',
//            axis : 'x'
//        })
    }

    $('#bl').click(function () {
        scrollBy(-dx())
    });

    $('#br').click(function () {
        scrollBy(dx())
    });



</script>
</body>
</html>
